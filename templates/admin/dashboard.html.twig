{% block head_stylesheets %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
<style>
    /* --- Styles g√©n√©raux et variables --- */
    :root {
        --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        --success-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        --warning-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        --light-bg: #f8fafc;
        --dark-bg: #1a202c;
        --card-bg: #ffffff;
        --dark-text: #2d3748;
        --gray-text: #718096;
        --light-gray: #e2e8f0;
        --shadow-sm: 0 4px 6px rgba(0,0,0,0.05);
        --shadow: 0 10px 25px rgba(0,0,0,0.1);
        --shadow-lg: 0 20px 40px rgba(0,0,0,0.15);
        --shadow-hover: 0 30px 60px rgba(0,0,0,0.2);
        --transition: all 0.4s cubic-bezier(0.175,0.885,0.32,1.1);
        --transition-smooth: all 0.3s ease;
        --radius-sm: 12px;
        --radius: 20px;
        --radius-lg: 25px;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Poppins', sans-serif; background-color: var(--light-bg); color: var(--dark-text); }

    /* --- Dashboard container --- */
    .dashboard-container { min-height:100vh; padding:20px; position:relative; }
    .dashboard-header { background: var(--card-bg); border-radius: var(--radius); padding:35px 40px; margin-bottom:40px; box-shadow: var(--shadow); border-left:6px solid #667eea; position:relative; overflow:hidden; }
    .dashboard-header::before { content:''; position:absolute; top:0; right:0; width:200px; height:200px; background:var(--primary-gradient); opacity:0.05; border-radius:50%; transform:translate(100px,-100px); }
    .dashboard-title { font-weight:800; font-size:2.8rem; background:var(--primary-gradient); -webkit-background-clip:text; background-clip:text; color:transparent; margin-bottom:10px; position:relative; display:inline-block; }
    .dashboard-title::after { content:'üìö'; position:absolute; right:-50px; top:0; font-size:2.5rem; opacity:0.8; }
    .dashboard-subtitle { color:var(--gray-text); font-size:1.15rem; line-height:1.6; max-width:600px; }
    .row { display:flex; flex-wrap:wrap; gap:30px; }
    .col-lg-3 { flex:0 0 calc(25% - 30px); max-width: calc(25% - 30px); }
    .col-lg-9 { flex:0 0 calc(75% - 30px); max-width: calc(75% - 30px); }

    /* --- Sidebar --- */
    .custom-sidebar { background: linear-gradient(180deg, var(--dark-bg) 0%, #2d3748 100%); padding:30px; border-radius:var(--radius); color:white; box-shadow:var(--shadow); position:sticky; top:20px; }
    .sidebar-title { font-size:1.1rem; font-weight:600; margin-bottom:25px; color:#cbd5e0; text-transform:uppercase; letter-spacing:1.5px; padding-bottom:15px; border-bottom:2px solid rgba(255,255,255,0.1); }
    .sidebar-menu { list-style:none; padding:0; margin:0; }
    .sidebar-menu li { margin-bottom:8px; }
    .sidebar-menu a { color:#cbd5e0; text-decoration:none; display:flex; align-items:center; gap:15px; padding:14px 18px; border-radius: var(--radius-sm); transition:var(--transition-smooth); position:relative; overflow:hidden; }
    .sidebar-menu a::before { content:''; position:absolute; left:0; top:0; height:100%; width:3px; background: var(--primary-gradient); transform:translateX(-10px); transition: var(--transition-smooth); }
    .sidebar-menu a:hover, .sidebar-menu a.active { background: rgba(255,255,255,0.1); color:white; transform:translateX(5px); }
    .sidebar-menu a:hover::before, .sidebar-menu a.active::before { transform:translateX(0); }
    .sidebar-menu i { width:20px; text-align:center; font-size:1.1rem; }

    /* --- Actions grid --- */
    .actions-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap:25px; margin-bottom:40px; }
    .action-card { background:var(--card-bg); border-radius:var(--radius); padding:30px; text-align:center; display:block; transition:var(--transition); box-shadow:var(--shadow); border:2px solid transparent; position:relative; overflow:hidden; cursor:pointer; }
    .action-card::before { content:''; position:absolute; top:0; left:0; right:0; height:5px; background:var(--primary-gradient); transition:var(--transition); }
    .action-card::after { content:''; position:absolute; bottom:-50%; right:-50%; width:100px; height:100px; background: rgba(255,255,255,0.1); border-radius:50%; transition:var(--transition); }
    .action-card:hover { transform: translateY(-10px) scale(1.02); box-shadow:var(--shadow-hover); border-color:#667eea; }
    .action-card:hover::before { height:8px; }
    .action-card:hover::after { bottom:-20%; right:-20%; }
    .action-icon { width:90px; height:90px; border-radius:25px; display:flex; align-items:center; justify-content:center; font-size:40px; color:white; margin:0 auto 25px; transition:var(--transition); box-shadow:var(--shadow); position:relative; z-index:2; }
    .action-card:hover .action-icon { transform: scale(1.15) rotate(5deg); }
    .action-title { font-size:1.4rem; font-weight:700; color:var(--dark-text); margin-bottom:12px; position:relative; z-index:2; }
    .action-desc { color:var(--gray-text); font-size:0.95rem; line-height:1.6; position:relative; z-index:2; }

    /* --- Activity recent --- */
    .recent-activity { background:var(--card-bg); border-radius:var(--radius); padding:35px; box-shadow:var(--shadow); }
    .activity-list { display:flex; flex-direction:column; gap:15px; }
    .activity-item { display:flex; align-items:center; gap:20px; padding:20px; border-radius:var(--radius-sm); background:#f8fafc; transition:var(--transition-smooth); border-left:4px solid transparent; }
    .activity-item:hover { background:#edf2f7; transform:translateX(5px); border-left-color:#667eea; }
    .activity-icon { width:50px; height:50px; border-radius:14px; display:flex; align-items:center; justify-content:center; font-size:22px; color:white; flex-shrink:0; box-shadow:var(--shadow-sm); }
    .activity-content { flex:1; }
    .activity-title { font-weight:600; color:var(--dark-text); margin-bottom:5px; }
    .activity-desc { color:var(--gray-text); font-size:0.9rem; margin-bottom:5px; }
    .activity-time { color:#a0aec0; font-size:0.85rem; display:flex; align-items:center; gap:5px; }
    .activity-time i { font-size:0.8rem; }

</style>

<div class="dashboard-container">
    <!-- En-t√™te -->
    <div class="dashboard-header animate-in">
        <h1 class="dashboard-title">Tableau de Bord</h1>
    </div>

    <div class="row">
        <!-- Menu lat√©ral -->
        <div class="col-lg-3">
            <div class="custom-sidebar animate-in delay-1">
                <h3 class="sidebar-title">Navigation</h3>
                <ul class="sidebar-menu">
                    <li><a href="#" class="active"><i class="fas fa-home"></i> Tableau de bord</a></li>
                    <li><a href="{{ ea_url().setController('App\\Controller\\Admin\\LivreCrudController') }}"><i class="fas fa-book"></i> Livres</a></li>
                    <li><a href="{{ ea_url().setController('App\\Controller\\Admin\\AuteurCrudController') }}"><i class="fas fa-user-edit"></i> Auteurs</a></li>
                    <li><a href="{{ ea_url().setController('App\\Controller\\Admin\\CategorieCrudController') }}"><i class="fas fa-tags"></i> Cat√©gories</a></li>
                    <li><a href="{{ ea_url().setController('App\\Controller\\Admin\\EditeurCrudController') }}"><i class="fas fa-building"></i> √âditeurs</a></li>
                    <li><a href="{{ ea_url().setController('App\\Controller\\Admin\\UserCrudController') }}"><i class="fas fa-users-cog"></i> Utilisateurs</a></li>
                    <li><a href="#"><i class="fas fa-chart-bar"></i> Statistiques</a></li>
                    <li><a href="#"><i class="fas fa-cog"></i> Param√®tres</a></li>
                    <li><a href="#"><i class="fas fa-question-circle"></i> Aide</a></li>
                </ul>
            </div>
        </div>

        <!-- Contenu principal -->
        <div class="col-lg-9">
            <h2 class="section-title animate-in delay-2">Acc√®s rapide</h2>
            <div class="actions-grid">
                <a href="{{ ea_url().setController('App\\Controller\\Admin\\LivreCrudController') }}" class="action-card animate-in delay-1">
                    <div class="action-icon" style="background: var(--primary-gradient);"><i class="fas fa-book-open"></i></div>
                    <h3 class="action-title">G√©rer les Livres</h3>
                    <p class="action-desc">Ajouter, modifier ou supprimer des livres de votre collection</p>
                </a>

                <a href="{{ ea_url().setController('App\\Controller\\Admin\\AuteurCrudController') }}" class="action-card animate-in delay-2">
                    <div class="action-icon" style="background: var(--secondary-gradient);"><i class="fas fa-user-tie"></i></div>
                    <h3 class="action-title">Auteurs</h3>
                    <p class="action-desc">G√©rez les profils d'auteurs et leurs biographies</p>
                </a>

                <a href="{{ ea_url().setController('App\\Controller\\Admin\\CategorieCrudController') }}" class="action-card animate-in delay-3">
                    <div class="action-icon" style="background: var(--accent-gradient);"><i class="fas fa-layer-group"></i></div>
                    <h3 class="action-title">Cat√©gories</h3>
                    <p class="action-desc">Organisez votre biblioth√®que par genres et th√®mes</p>
                </a>

                <a href="{{ ea_url().setController('App\\Controller\\Admin\\UserCrudController') }}" class="action-card animate-in delay-4">
                    <div class="action-icon" style="background: var(--success-gradient);"><i class="fas fa-user-shield"></i></div>
                    <h3 class="action-title">Utilisateurs</h3>
                    <p class="action-desc">G√©rez les acc√®s et permissions des utilisateurs</p>
                </a>

                <a href="{{ ea_url().setController('App\\Controller\\Admin\\EditeurCrudController') }}" class="action-card animate-in delay-5">
                    <div class="action-icon" style="background: var(--warning-gradient);"><i class="fas fa-building"></i></div>
                    <h3 class="action-title">√âditeurs</h3>
                    <p class="action-desc">G√©rez les maisons d'√©dition et leurs informations</p>
                </a>
            </div>

            <!-- Activit√© r√©cente -->
            <div class="recent-activity animate-in delay-3">
                <h2 class="section-title">Activit√© r√©cente</h2>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon" style="background: var(--primary-gradient);"><i class="fas fa-plus"></i></div>
                        <div class="activity-content">
                            <div class="activity-title">Nouveau livre ajout√©</div>
                            <div class="activity-desc">"Le Nom du Vent" par Patrick Rothfuss</div>
                            <div class="activity-time"><i class="far fa-clock"></i> Il y a 2 heures</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon" style="background: var(--secondary-gradient);"><i class="fas fa-user-plus"></i></div>
                        <div class="activity-content">
                            <div class="activity-title">Nouvel auteur enregistr√©</div>
                            <div class="activity-desc">Brandon Sanderson ajout√© √† la base</div>
                            <div class="activity-time"><i class="far fa-clock"></i> Il y a 5 heures</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon" style="background: var(--accent-gradient);"><i class="fas fa-layer-group"></i></div>
                        <div class="activity-content">
                            <div class="activity-title">Cat√©gorie mise √† jour</div>
                            <div class="activity-desc">Fantasy √©pique renomm√©e en "√âpique Fantasy"</div>
                            <div class="activity-time"><i class="far fa-clock"></i> Il y a 1 jour</div>
                        </div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon" style="background: var(--warning-gradient);"><i class="fas fa-building"></i></div>
                        <div class="activity-content">
                            <div class="activity-title">Nouvel √©diteur ajout√©</div>
                            <div class="activity-desc">Maison d'√©dition "Gallimard" ajout√©e √† la base</div>
                            <div class="activity-time"><i class="far fa-clock"></i> Il y a 3 heures</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animation au survol des cartes
    const cards = document.querySelectorAll('.action-card, .stat-card, .activity-item');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.zIndex = '10';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.zIndex = '1';
        });
    });

    // Gestion du menu actif
    const currentPath = window.location.pathname;
    const menuItems = document.querySelectorAll('.sidebar-menu a[href]');
    
    menuItems.forEach(item => {
        const href = item.getAttribute('href');
        if (href !== '#' && currentPath.includes(href)) {
            item.classList.add('active');
        }
    });

    // Animation des nombres (compteur)
    function animateValue(element, start, end, duration) {
        if (start === end) return;
        
        const range = end - start;
        const increment = end > start ? 1 : -1;
        const stepTime = Math.abs(Math.floor(duration / range));
        let current = start;
        
        const timer = setInterval(() => {
            current += increment;
            element.textContent = current.toLocaleString();
            
            if (current === end) {
                clearInterval(timer);
            }
        }, stepTime);
    }

    // D√©marrage des animations de compteur
    const statNumbers = document.querySelectorAll('.stat-number');
    statNumbers.forEach(stat => {
        const value = parseInt(stat.textContent.replace(/,/g, ''));
        stat.textContent = '0';
        
        // D√©lai pour que l'animation d'entr√©e soit termin√©e
        setTimeout(() => {
            animateValue(stat, 0, value, 1500);
        }, 500);
    });

    // Effet de particules sur le header
    const header = document.querySelector('.dashboard-header');
    if (header) {
        for (let i = 0; i < 15; i++) {
            const particle = document.createElement('div');
            particle.style.position = 'absolute';
            particle.style.width = Math.random() * 10 + 5 + 'px';
            particle.style.height = particle.style.width;
            particle.style.background = 'rgba(102, 126, 234, 0.1)';
            particle.style.borderRadius = '50%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.pointerEvents = 'none';
            header.appendChild(particle);
        }
    }

    // Toast notifications (exemple)
    function showToast(message, type = 'info') {
        const toast = document.createElement('div');
        toast.className = `toast toast-${type}`;
        toast.textContent = message;
        toast.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            border-left: 4px solid #667eea;
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
        `;
        
        document.body.appendChild(toast);
        
        setTimeout(() => {
            toast.style.animation = 'slideOut 0.3s ease-out forwards';
            setTimeout(() => toast.remove(), 300);
        }, 3000);
    }

    // √âcouter les clics sur les cartes d'action
    document.querySelectorAll('.action-card').forEach(card => {
        card.addEventListener('click', function(e) {
            // Animation de clic
            this.style.transform = 'scale(0.98)';
            setTimeout(() => {
                this.style.transform = '';
            }, 150);
        });
    });

    // Mettre √† jour l'heure des activit√©s
    function updateActivityTimes() {
        const timeElements = document.querySelectorAll('.activity-time');
        timeElements.forEach(el => {
            // Ici vous pourriez ajouter une logique pour mettre √† jour les temps relatifs
        });
    }

    // Initialiser
    updateActivityTimes();
    setInterval(updateActivityTimes, 60000); // Mettre √† jour toutes les minutes
});
</script>
{% endblock %}